from flask import Flask
from flask_mail import Mail, Message
from config import app, mail  # Assuming `config.py` contains app and mail configuration

@app.route('/')
def home():
    return "Hello, Flask on localhost!"

@app.route("/send_mail")
def send_mail():
    try:
        # Compose the email
        mail_message = Message(
            subject='Hi! Donâ€™t forget to follow me for more articles!',
            sender='your_email@gmail.com',  # Replace with your email
            recipients=['nakiyahduke@gmail.com'],  # Replace with recipient email(s)
            body='This is a test email body.'  # Add email body
        )

        # Send the email
        mail.send(mail_message)
        return "Mail has been sent!"

    except Exception as e:
        return f"An error occurred: {str(e)}"

if __name__ == '__main__':
    app.run(debug=True)